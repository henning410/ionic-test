"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5530],{5530:(g,c,l)=>{l.r(c),l.d(c,{OsmMapPage:()=>L});var y=l(6895),d=l(433),p=l(6114),h=l(8407),a=l(8256);class r{static mapToArray(i){const e=[];for(const s in i)i.hasOwnProperty(s)&&e.push(i[s]);return e}static handleEvent(i,e,s){0<e.observers.length&&i.run(()=>{e.emit(s)})}}let v=(()=>{class n{constructor(e,s){this.element=e,this.zone=s,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,h.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new a.vpe,this.zoomChange=new a.vpe,this.centerChange=new a.vpe,this.onClick=new a.vpe,this.onDoubleClick=new a.vpe,this.onMouseDown=new a.vpe,this.onMouseUp=new a.vpe,this.onMouseMove=new a.vpe,this.onMouseOver=new a.vpe,this.onMouseOut=new a.vpe,this.onMapMove=new a.vpe,this.onMapMoveStart=new a.vpe,this.onMapMoveEnd=new a.vpe,this.onMapZoom=new a.vpe,this.onMapZoomStart=new a.vpe,this.onMapZoomEnd=new a.vpe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,h.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(e){e.zoom&&e.center&&null!=this.zoom&&null!=this.center?this.setView(e.center.currentValue,e.zoom.currentValue):e.zoom?this.setZoom(e.zoom.currentValue):e.center&&this.setCenter(e.center.currentValue),e.fitBounds&&this.setFitBounds(e.fitBounds.currentValue),e.maxBounds&&this.setMaxBounds(e.maxBounds.currentValue),e.minZoom&&this.setMinZoom(e.minZoom.currentValue),e.maxZoom&&this.setMaxZoom(e.maxZoom.currentValue)}ngOnDestroy(){null!=this.map&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){const e=(t,o)=>{this.map.on(t,o)};e("click",t=>r.handleEvent(this.zone,this.onClick,t)),e("dblclick",t=>r.handleEvent(this.zone,this.onDoubleClick,t)),e("mousedown",t=>r.handleEvent(this.zone,this.onMouseDown,t)),e("mouseup",t=>r.handleEvent(this.zone,this.onMouseUp,t)),e("mouseover",t=>r.handleEvent(this.zone,this.onMouseOver,t)),e("mouseout",t=>r.handleEvent(this.zone,this.onMouseOut,t)),e("mousemove",t=>r.handleEvent(this.zone,this.onMouseMove,t)),e("zoomstart",t=>r.handleEvent(this.zone,this.onMapZoomStart,t)),e("zoom",t=>r.handleEvent(this.zone,this.onMapZoom,t)),e("zoomend",t=>r.handleEvent(this.zone,this.onMapZoomEnd,t)),e("movestart",t=>r.handleEvent(this.zone,this.onMapMoveStart,t)),e("move",t=>r.handleEvent(this.zone,this.onMapMove,t)),e("moveend",t=>r.handleEvent(this.zone,this.onMapMoveEnd,t));const s=()=>{const t=this.map.getZoom();t!==this.zoom&&(this.zoom=t,r.handleEvent(this.zone,this.zoomChange,t));const o=this.map.getCenter();(null!=o||null!=this.center)&&((null==o||null==this.center)&&o!==this.center||o.lat!==this.center.lat||o.lng!==this.center.lng)&&(this.center=o,r.handleEvent(this.zone,this.centerChange,o))};e("moveend",s),e("zoomend",s)}doResize(){this.zone.runOutsideAngular(()=>{null!=this.map&&this.map.invalidateSize({})})}delayResize(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(e,s){null!=this.map&&null!=e&&null!=s&&this.map.setView(e,s,this.zoomPanOptions)}setZoom(e){null!=this.map&&null!=e&&this.map.setZoom(e,this.zoomOptions)}setCenter(e){null!=this.map&&null!=e&&this.map.panTo(e,this.panOptions)}setFitBounds(e){null!=this.map&&null!=e&&this.map.fitBounds(e,this.fitBoundsOptions)}setMaxBounds(e){null!=this.map&&null!=e&&this.map.setMaxBounds(e)}setMinZoom(e){null!=this.map&&null!=e&&this.map.setMinZoom(e)}setMaxZoom(e){null!=this.map&&null!=e&&this.map.setMaxZoom(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","leaflet",""]],hostBindings:function(e,s){1&e&&a.NdJ("resize",function(){return s.onResize()},!1,a.Jf7)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[a.TTD]}),n})(),m=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();h.Icon.Default.imagePath="assets/";let L=(()=>{class n{constructor(){this.markers=[],this.options={layers:[h.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png")],zoom:50,center:{lat:28.626137,lng:79.821603}}}initMarkers(){const e=[{position:{lat:28.625485,lng:79.821091},draggable:!1},{position:{lat:28.625293,lng:79.817926},draggable:!1},{position:{lat:28.625182,lng:79.81464},draggable:!1}];for(let s=0;s<e.length;s++){const t=e[s],o=this.generateMarker(t,s);o.addTo(this.map).bindPopup(`<h3>Username: Hans</h3><h4>Preis pro kwh: 2.76\u20ac</h4><br><ion-icon name="star" size="large"></ion-icon><ion-icon name="star" size="large"></ion-icon><ion-icon name="star" size="large"></ion-icon><ion-icon name="star-outline" size="large"></ion-icon><ion-icon name="star-outline" size="large"></ion-icon><b>${t.position.lat},  ${t.position.lng}</b>`),this.map.panTo(t.position),this.markers.push(o)}}generateMarker(e,s){return h.marker(e.position,{draggable:e.draggable}).on("click",t=>this.markerClicked(t,s)).on("dragend",t=>this.markerDragEnd(t,s))}onMapReady(e){this.map=e,this.map.setView([51.505,-.09],13),this.initMarkers()}mapClicked(e){console.log(e.latlng.lat,e.latlng.lng)}markerClicked(e,s){console.log(e.latlng.lat,e.latlng.lng)}markerDragEnd(e,s){console.log(e.target.getLatLng())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-osm-map"]],standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["leaflet","",1,"map-container",3,"leafletOptions","leafletMapReady","leafletClick"]],template:function(e,s){1&e&&(a.TgZ(0,"div",0),a.NdJ("leafletMapReady",function(o){return s.onMapReady(o)})("leafletClick",function(o){return s.mapClicked(o)}),a.qZA()),2&e&&a.Q6J("leafletOptions",s.options)},dependencies:[p.Pc,y.ez,d.u5,m,v],styles:[".map-container[_ngcontent-%COMP%]{height:80vh}"]}),n})()}}]);